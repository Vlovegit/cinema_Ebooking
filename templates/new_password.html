{% extends 'base.html' %}
{% load static %}
{% block title %}Enter new password{% endblock %}

{% block content %}

<div class="mask d-flex align-items-center h-100 gradient-custom-3">
      <div class="container h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
          <div class="col-12 col-md-9 col-lg-7 col-xl-6">
            <div class="card" style="border-radius: 15px;">
              <div class="card-body p-5">
                <h2 class="text-uppercase text-center mb-5">Set a new password!</h2>
<form method="POST">
   {% csrf_token %}
    {% comment %} {% if first_name %} {% endcomment %}

      {% comment %} <p>Hi <b>{{first_name}} </b></p> {% endcomment %}
        
    {% comment %} {% else %} {% endcomment %}
    <table>
        <tr>
            <td>Current password</td>
            <td><input  class = "form-control form-control-lg" type="password" name="current_password" id="current_password" maxlength="30" required/></td>
        </tr>
        <tr>
            <td>New password</td>
            <td><input  class = "form-control form-control-lg" type="password" name="new_password" id="new_password" onInput = "check()" maxlength="30" required/></td>
        </tr>
        <tr><td><div id="check0" style = "color:grey">
          <i class="far fa-check-circle"></i>  <span> Length more than 8.</span>
        </div>
        </tr>
        <div id="check1" style = "color:grey">
        <tr>
          <i class="far fa-check-circle"></i>  <span> Contain atleast one numeric.</span>
        </div>
        </tr>
        <div id="check2" style = "color:grey">
          <i class="far fa-check-circle"></i>  <span> Contain atleast one symbol.</span>
        </div></td></tr>
       </br><tr><td>Confirm password</td><td><input  class = "form-control form-control-lg" type="password" name="confirm_password" id="reset_password" onInput = "check1()" maxlength="30" required/></td></tr>
       <tr><td><div id="check3" style = "color:grey">
        <i class="far fa-check-circle"></i>  <span> Passwords Matched.</span>
      </div></td></tr>
        </br></table></br>
    {% comment %} {% endif %} {% endcomment %}
  <input type="submit" value="Change Password"
                       class="btn btn-success btn-block btn-lg gradient-custom-4 text-body" />

</form>

<script>
  function check(){
    var input = document.getElementById("new_password").value;
    var input1 = document.getElementById("reset_password").value;
    if(input.length >=8){
        document.getElementById("check0").style.color = "green";
    }
    else{
      document.getElementById("check0").style.color = "red";
    }
    if(input.match(/[0-9]/i))
    {
        document.getElementById("check1").style.color="green";
    }
    else
    {
       document.getElementById("check1").style.color="red";
    }
    if(input.match(/[^A-Za-z0-9-' ']/i))
    {
        document.getElementById("check2").style.color="green";
    }
    else
    {
       document.getElementById("check2").style.color="red";
    }
}
  function check1(){
    var input = document.getElementById("new_password").value;
    var input1 = document.getElementById("reset_password").value;
    if(input1 == input){
      document.getElementById("check3").style.color="green";
    }
    else{
      document.getElementById("check3").style.color = "red";
    }
  }
</script>
                <p class="text-center text-muted mt-5 mb-0"><a href="/">E-Cinema Booking System</a></p>
                {% if messages %}
        {% for message in messages %}
          <h3>{{message}}</h3>
        {% endfor %}
    {% endif %}
              </div></div></div></div></div></div>

{% endblock %}